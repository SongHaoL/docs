<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>video.js指南 | 前端工程师成长路线</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/docs/images/favicon.png">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/bmob/hydrogen-js-sdk/dist/Bmob-2.2.4.min.js"></script>
    <meta name="description" content="博客 分享 读后感 成长规划">
    <meta name="theme-color" content="#00adb5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#00adb5">
    <meta itemprop="name" content="前端工程师成长路线">
    <meta itemprop="image" content="/my-blogs/images/favicon.png">
    <link rel="preload" href="/docs/assets/css/0.styles.bf0e5390.css" as="style"><link rel="preload" href="/docs/assets/js/app.c978ed4c.js" as="script"><link rel="preload" href="/docs/assets/js/2.e8452e90.js" as="script"><link rel="preload" href="/docs/assets/js/124.ab27eaeb.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.9f588f97.js"><link rel="prefetch" href="/docs/assets/js/100.ffcf5e8c.js"><link rel="prefetch" href="/docs/assets/js/101.5f8fea8b.js"><link rel="prefetch" href="/docs/assets/js/102.6970ac5e.js"><link rel="prefetch" href="/docs/assets/js/103.66ddd444.js"><link rel="prefetch" href="/docs/assets/js/104.4a1b5d87.js"><link rel="prefetch" href="/docs/assets/js/105.7e4c9a08.js"><link rel="prefetch" href="/docs/assets/js/106.4938cb7b.js"><link rel="prefetch" href="/docs/assets/js/107.75fb4f22.js"><link rel="prefetch" href="/docs/assets/js/108.7faeb044.js"><link rel="prefetch" href="/docs/assets/js/109.90537203.js"><link rel="prefetch" href="/docs/assets/js/11.c451bba8.js"><link rel="prefetch" href="/docs/assets/js/110.e679b96d.js"><link rel="prefetch" href="/docs/assets/js/111.b4b721c7.js"><link rel="prefetch" href="/docs/assets/js/112.81575225.js"><link rel="prefetch" href="/docs/assets/js/113.b9fda0ce.js"><link rel="prefetch" href="/docs/assets/js/114.d326fbf9.js"><link rel="prefetch" href="/docs/assets/js/115.b2d2354d.js"><link rel="prefetch" href="/docs/assets/js/116.8ccbe51e.js"><link rel="prefetch" href="/docs/assets/js/117.f5fe261d.js"><link rel="prefetch" href="/docs/assets/js/118.a19f4ca6.js"><link rel="prefetch" href="/docs/assets/js/119.915485f3.js"><link rel="prefetch" href="/docs/assets/js/12.1158dd87.js"><link rel="prefetch" href="/docs/assets/js/120.9bbe30fa.js"><link rel="prefetch" href="/docs/assets/js/121.7a675a78.js"><link rel="prefetch" href="/docs/assets/js/122.5588aa0e.js"><link rel="prefetch" href="/docs/assets/js/123.382e6c75.js"><link rel="prefetch" href="/docs/assets/js/125.56b3201f.js"><link rel="prefetch" href="/docs/assets/js/126.99394f91.js"><link rel="prefetch" href="/docs/assets/js/127.e756d52e.js"><link rel="prefetch" href="/docs/assets/js/128.c660bfb2.js"><link rel="prefetch" href="/docs/assets/js/129.6cc564cf.js"><link rel="prefetch" href="/docs/assets/js/13.6e15b6b0.js"><link rel="prefetch" href="/docs/assets/js/130.06e7923c.js"><link rel="prefetch" href="/docs/assets/js/131.0e00b1a0.js"><link rel="prefetch" href="/docs/assets/js/132.71d6bc0a.js"><link rel="prefetch" href="/docs/assets/js/133.e6878c88.js"><link rel="prefetch" href="/docs/assets/js/134.8e8106a2.js"><link rel="prefetch" href="/docs/assets/js/135.de7090d4.js"><link rel="prefetch" href="/docs/assets/js/136.72b8cf2c.js"><link rel="prefetch" href="/docs/assets/js/137.fc682576.js"><link rel="prefetch" href="/docs/assets/js/138.0d1f21d9.js"><link rel="prefetch" href="/docs/assets/js/139.5cc79fde.js"><link rel="prefetch" href="/docs/assets/js/14.b37c2877.js"><link rel="prefetch" href="/docs/assets/js/140.5199ccbb.js"><link rel="prefetch" href="/docs/assets/js/141.68dd0756.js"><link rel="prefetch" href="/docs/assets/js/142.32d1c67e.js"><link rel="prefetch" href="/docs/assets/js/143.ca5e8d9f.js"><link rel="prefetch" href="/docs/assets/js/144.12d50769.js"><link rel="prefetch" href="/docs/assets/js/145.f807dc93.js"><link rel="prefetch" href="/docs/assets/js/146.c6aaa4ba.js"><link rel="prefetch" href="/docs/assets/js/147.db1b9b87.js"><link rel="prefetch" href="/docs/assets/js/148.76332794.js"><link rel="prefetch" href="/docs/assets/js/149.cfcee780.js"><link rel="prefetch" href="/docs/assets/js/15.fc2d395b.js"><link rel="prefetch" href="/docs/assets/js/150.75ccb155.js"><link rel="prefetch" href="/docs/assets/js/151.1b439160.js"><link rel="prefetch" href="/docs/assets/js/152.9d84bd0d.js"><link rel="prefetch" href="/docs/assets/js/153.7e43482f.js"><link rel="prefetch" href="/docs/assets/js/154.f00cdcc5.js"><link rel="prefetch" href="/docs/assets/js/155.6259110c.js"><link rel="prefetch" href="/docs/assets/js/156.380ec807.js"><link rel="prefetch" href="/docs/assets/js/157.1afd6387.js"><link rel="prefetch" href="/docs/assets/js/158.da07fe6f.js"><link rel="prefetch" href="/docs/assets/js/159.2712ac03.js"><link rel="prefetch" href="/docs/assets/js/16.0a7351f8.js"><link rel="prefetch" href="/docs/assets/js/160.8975fa7d.js"><link rel="prefetch" href="/docs/assets/js/161.25a0428b.js"><link rel="prefetch" href="/docs/assets/js/162.ae4937d4.js"><link rel="prefetch" href="/docs/assets/js/163.a1d25989.js"><link rel="prefetch" href="/docs/assets/js/164.c91e5196.js"><link rel="prefetch" href="/docs/assets/js/165.dd27b6fd.js"><link rel="prefetch" href="/docs/assets/js/166.f876ed5d.js"><link rel="prefetch" href="/docs/assets/js/167.fc5c6f61.js"><link rel="prefetch" href="/docs/assets/js/168.38474d53.js"><link rel="prefetch" href="/docs/assets/js/169.1059ce91.js"><link rel="prefetch" href="/docs/assets/js/17.1be91754.js"><link rel="prefetch" href="/docs/assets/js/170.2c165ad9.js"><link rel="prefetch" href="/docs/assets/js/171.062a2579.js"><link rel="prefetch" href="/docs/assets/js/172.01bc7d1b.js"><link rel="prefetch" href="/docs/assets/js/173.b8bf0f52.js"><link rel="prefetch" href="/docs/assets/js/174.716acf4c.js"><link rel="prefetch" href="/docs/assets/js/175.044049da.js"><link rel="prefetch" href="/docs/assets/js/176.ee113be6.js"><link rel="prefetch" href="/docs/assets/js/177.612ce144.js"><link rel="prefetch" href="/docs/assets/js/178.b4cf4aec.js"><link rel="prefetch" href="/docs/assets/js/179.cd29ba5e.js"><link rel="prefetch" href="/docs/assets/js/18.bc9f65c6.js"><link rel="prefetch" href="/docs/assets/js/180.736b970a.js"><link rel="prefetch" href="/docs/assets/js/181.7dab2279.js"><link rel="prefetch" href="/docs/assets/js/182.75cc2d1d.js"><link rel="prefetch" href="/docs/assets/js/183.b4979631.js"><link rel="prefetch" href="/docs/assets/js/184.085439f2.js"><link rel="prefetch" href="/docs/assets/js/185.76973f42.js"><link rel="prefetch" href="/docs/assets/js/186.c32eac65.js"><link rel="prefetch" href="/docs/assets/js/187.1b5db772.js"><link rel="prefetch" href="/docs/assets/js/188.a6dfefd5.js"><link rel="prefetch" href="/docs/assets/js/189.5279d3f7.js"><link rel="prefetch" href="/docs/assets/js/19.3b71d5db.js"><link rel="prefetch" href="/docs/assets/js/190.4d6c4623.js"><link rel="prefetch" href="/docs/assets/js/191.551331a6.js"><link rel="prefetch" href="/docs/assets/js/192.7da4068c.js"><link rel="prefetch" href="/docs/assets/js/193.d15a7ac0.js"><link rel="prefetch" href="/docs/assets/js/194.b84490ef.js"><link rel="prefetch" href="/docs/assets/js/195.0ce0d087.js"><link rel="prefetch" href="/docs/assets/js/196.e41edf43.js"><link rel="prefetch" href="/docs/assets/js/197.a03e49fd.js"><link rel="prefetch" href="/docs/assets/js/198.74c40c6b.js"><link rel="prefetch" href="/docs/assets/js/199.2520ba65.js"><link rel="prefetch" href="/docs/assets/js/20.dc2e821f.js"><link rel="prefetch" href="/docs/assets/js/200.88c9ce1d.js"><link rel="prefetch" href="/docs/assets/js/201.c7bf0bb0.js"><link rel="prefetch" href="/docs/assets/js/202.2bc7f02b.js"><link rel="prefetch" href="/docs/assets/js/203.782c804f.js"><link rel="prefetch" href="/docs/assets/js/204.5ba2b6e3.js"><link rel="prefetch" href="/docs/assets/js/205.07ade1e7.js"><link rel="prefetch" href="/docs/assets/js/206.49eecc43.js"><link rel="prefetch" href="/docs/assets/js/207.5ffac590.js"><link rel="prefetch" href="/docs/assets/js/208.c707be88.js"><link rel="prefetch" href="/docs/assets/js/209.5221dde5.js"><link rel="prefetch" href="/docs/assets/js/21.d53f309b.js"><link rel="prefetch" href="/docs/assets/js/210.09328109.js"><link rel="prefetch" href="/docs/assets/js/211.36613677.js"><link rel="prefetch" href="/docs/assets/js/212.ca214876.js"><link rel="prefetch" href="/docs/assets/js/213.8e56bc21.js"><link rel="prefetch" href="/docs/assets/js/214.c858a64f.js"><link rel="prefetch" href="/docs/assets/js/215.c9d931ad.js"><link rel="prefetch" href="/docs/assets/js/216.2205795a.js"><link rel="prefetch" href="/docs/assets/js/217.282960f8.js"><link rel="prefetch" href="/docs/assets/js/218.bb85535d.js"><link rel="prefetch" href="/docs/assets/js/219.63e66957.js"><link rel="prefetch" href="/docs/assets/js/22.a3532af7.js"><link rel="prefetch" href="/docs/assets/js/220.d5e1af0c.js"><link rel="prefetch" href="/docs/assets/js/221.09cf5e11.js"><link rel="prefetch" href="/docs/assets/js/222.cb43ca04.js"><link rel="prefetch" href="/docs/assets/js/223.ac4f5436.js"><link rel="prefetch" href="/docs/assets/js/224.dcbd910d.js"><link rel="prefetch" href="/docs/assets/js/225.7c5b9b55.js"><link rel="prefetch" href="/docs/assets/js/226.2a3fdb9c.js"><link rel="prefetch" href="/docs/assets/js/227.2b12889a.js"><link rel="prefetch" href="/docs/assets/js/228.1f4e72af.js"><link rel="prefetch" href="/docs/assets/js/229.c84ad7fa.js"><link rel="prefetch" href="/docs/assets/js/23.c19e9281.js"><link rel="prefetch" href="/docs/assets/js/230.a2a33dcc.js"><link rel="prefetch" href="/docs/assets/js/231.b54abed3.js"><link rel="prefetch" href="/docs/assets/js/232.80a1e4cd.js"><link rel="prefetch" href="/docs/assets/js/233.1aa6afdc.js"><link rel="prefetch" href="/docs/assets/js/234.49b5a232.js"><link rel="prefetch" href="/docs/assets/js/235.ddb2a24e.js"><link rel="prefetch" href="/docs/assets/js/236.5b5c027b.js"><link rel="prefetch" href="/docs/assets/js/237.1a1dd6c0.js"><link rel="prefetch" href="/docs/assets/js/238.9164c4ef.js"><link rel="prefetch" href="/docs/assets/js/24.fe14e2e3.js"><link rel="prefetch" href="/docs/assets/js/25.d61be822.js"><link rel="prefetch" href="/docs/assets/js/26.d914ff7c.js"><link rel="prefetch" href="/docs/assets/js/27.5e846831.js"><link rel="prefetch" href="/docs/assets/js/28.91b7b06e.js"><link rel="prefetch" href="/docs/assets/js/29.13e43c41.js"><link rel="prefetch" href="/docs/assets/js/3.cdef41a6.js"><link rel="prefetch" href="/docs/assets/js/30.8058a342.js"><link rel="prefetch" href="/docs/assets/js/31.86ef94f0.js"><link rel="prefetch" href="/docs/assets/js/32.42fd1ac5.js"><link rel="prefetch" href="/docs/assets/js/33.298d00e7.js"><link rel="prefetch" href="/docs/assets/js/34.d20e49a1.js"><link rel="prefetch" href="/docs/assets/js/35.a21325d0.js"><link rel="prefetch" href="/docs/assets/js/36.0a9e9ba8.js"><link rel="prefetch" href="/docs/assets/js/37.9ee43af0.js"><link rel="prefetch" href="/docs/assets/js/38.5904916c.js"><link rel="prefetch" href="/docs/assets/js/39.9b74f5a1.js"><link rel="prefetch" href="/docs/assets/js/4.b0ce47e3.js"><link rel="prefetch" href="/docs/assets/js/40.40ac3fe3.js"><link rel="prefetch" href="/docs/assets/js/41.1910d7b6.js"><link rel="prefetch" href="/docs/assets/js/42.56ee5e87.js"><link rel="prefetch" href="/docs/assets/js/43.beb6224d.js"><link rel="prefetch" href="/docs/assets/js/44.767a48f9.js"><link rel="prefetch" href="/docs/assets/js/45.ffd9eda9.js"><link rel="prefetch" href="/docs/assets/js/46.e43f0c11.js"><link rel="prefetch" href="/docs/assets/js/47.cae67f48.js"><link rel="prefetch" href="/docs/assets/js/48.d53d474d.js"><link rel="prefetch" href="/docs/assets/js/49.b0bd067c.js"><link rel="prefetch" href="/docs/assets/js/5.e9e087df.js"><link rel="prefetch" href="/docs/assets/js/50.ab4903e2.js"><link rel="prefetch" href="/docs/assets/js/51.74a723c5.js"><link rel="prefetch" href="/docs/assets/js/52.14cf3e6e.js"><link rel="prefetch" href="/docs/assets/js/53.e92af053.js"><link rel="prefetch" href="/docs/assets/js/54.e6965305.js"><link rel="prefetch" href="/docs/assets/js/55.22f8c2a9.js"><link rel="prefetch" href="/docs/assets/js/56.68d53738.js"><link rel="prefetch" href="/docs/assets/js/57.049aee36.js"><link rel="prefetch" href="/docs/assets/js/58.68304a09.js"><link rel="prefetch" href="/docs/assets/js/59.c2b23df1.js"><link rel="prefetch" href="/docs/assets/js/6.c4ed1c15.js"><link rel="prefetch" href="/docs/assets/js/60.55af10de.js"><link rel="prefetch" href="/docs/assets/js/61.ae7d73c6.js"><link rel="prefetch" href="/docs/assets/js/62.c2f5df3d.js"><link rel="prefetch" href="/docs/assets/js/63.547bb94d.js"><link rel="prefetch" href="/docs/assets/js/64.8967cc49.js"><link rel="prefetch" href="/docs/assets/js/65.3433c2c0.js"><link rel="prefetch" href="/docs/assets/js/66.5dfdbedf.js"><link rel="prefetch" href="/docs/assets/js/67.74109bc2.js"><link rel="prefetch" href="/docs/assets/js/68.b86e3ed3.js"><link rel="prefetch" href="/docs/assets/js/69.e1f2873f.js"><link rel="prefetch" href="/docs/assets/js/7.a0f349d2.js"><link rel="prefetch" href="/docs/assets/js/70.2124c04a.js"><link rel="prefetch" href="/docs/assets/js/71.dd879397.js"><link rel="prefetch" href="/docs/assets/js/72.69037f5e.js"><link rel="prefetch" href="/docs/assets/js/73.b6c3caa9.js"><link rel="prefetch" href="/docs/assets/js/74.5b7b7c48.js"><link rel="prefetch" href="/docs/assets/js/75.9c906b9d.js"><link rel="prefetch" href="/docs/assets/js/76.6e0aba5b.js"><link rel="prefetch" href="/docs/assets/js/77.81b82300.js"><link rel="prefetch" href="/docs/assets/js/78.6a130ea9.js"><link rel="prefetch" href="/docs/assets/js/79.01b57170.js"><link rel="prefetch" href="/docs/assets/js/8.b70a50ae.js"><link rel="prefetch" href="/docs/assets/js/80.5971cfd1.js"><link rel="prefetch" href="/docs/assets/js/81.0d2d446d.js"><link rel="prefetch" href="/docs/assets/js/82.99bd4a00.js"><link rel="prefetch" href="/docs/assets/js/83.4e3a7936.js"><link rel="prefetch" href="/docs/assets/js/84.d8cd4a35.js"><link rel="prefetch" href="/docs/assets/js/85.8eef662c.js"><link rel="prefetch" href="/docs/assets/js/86.9f76731e.js"><link rel="prefetch" href="/docs/assets/js/87.d09424b1.js"><link rel="prefetch" href="/docs/assets/js/88.052c7e32.js"><link rel="prefetch" href="/docs/assets/js/89.5971c10b.js"><link rel="prefetch" href="/docs/assets/js/9.e64304c5.js"><link rel="prefetch" href="/docs/assets/js/90.ba364828.js"><link rel="prefetch" href="/docs/assets/js/91.a3b7f67f.js"><link rel="prefetch" href="/docs/assets/js/92.46639e64.js"><link rel="prefetch" href="/docs/assets/js/93.d59f5576.js"><link rel="prefetch" href="/docs/assets/js/94.c3ddaaa4.js"><link rel="prefetch" href="/docs/assets/js/95.2e823890.js"><link rel="prefetch" href="/docs/assets/js/96.73afc082.js"><link rel="prefetch" href="/docs/assets/js/97.764366f4.js"><link rel="prefetch" href="/docs/assets/js/98.18245860.js"><link rel="prefetch" href="/docs/assets/js/99.620a9221.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.bf0e5390.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">前端工程师成长路线</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xjl271314.github.io/css_tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css tricks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://xjl271314.github.io/js_tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  js tricks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/xjl271314/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xjl271314.github.io/css_tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css tricks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://xjl271314.github.io/js_tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  js tricks
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/xjl271314/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/dom/" class="sidebar-link">文档对象模型 DOM</a></li><li><a href="/docs/bom/" class="sidebar-link">浏览器对象 BOM</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javaScript基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javaScript高级技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/es/" class="sidebar-link">ES6 到 ES12 特性总结</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS相关知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Svg相关知识</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/http/" class="sidebar-link">HTTP 相关知识</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器相关知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PS相关知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web安全问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>移动端知识</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mobile/hybrid.html" class="sidebar-link">移动端 Hybrid 开发相关知识</a></li><li><a href="/docs/mobile/meta.html" class="sidebar-link">meta标签</a></li><li><a href="/docs/mobile/tips.html" class="sidebar-link">常用技巧</a></li><li><a href="/docs/mobile/wxShare.html" class="sidebar-link">微信公众号分享问题</a></li><li><a href="/docs/mobile/live.html" class="sidebar-link">直播概述</a></li><li><a href="/docs/mobile/h5live.html" class="sidebar-link">H5 直播方案分析讲解</a></li><li><a href="/docs/mobile/h5liveProblems.html" class="sidebar-link">H5 直播 Video 在实际开发过程中爬的坑</a></li><li><a href="/docs/mobile/rtc.html" class="sidebar-link">WebRtc 技术在H5直播中的运用</a></li><li><a href="/docs/mobile/videojs.html" class="active sidebar-link">video.js指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#常用属性说明" class="sidebar-link">常用属性说明</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#常用自定义样式修改" class="sidebar-link">常用自定义样式修改</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#常用事件说明" class="sidebar-link">常用事件说明</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#常用api说明" class="sidebar-link">常用API说明</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#常见问题faq" class="sidebar-link">常见问题FAQ</a></li><li class="sidebar-sub-header"><a href="/docs/mobile/videojs.html#进阶技巧" class="sidebar-link">进阶技巧</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Electron</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/bff/" class="sidebar-link">BFF</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开放性问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>即时通讯</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>LeetCode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微信开发相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>插件推荐</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="video-js指南">video.js指南</h1> <ul><li>2021.03.10</li></ul> <p>最近在封装通用的视频播放器组件,目前采用的方案是社区推荐的<code>video.js</code>,鉴于<a href="https://docs.videojs.com/currenttimedisplay" target="_blank" rel="noopener noreferrer">官方的文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>是纯英文的,而且国内相关的文档和例子都比较少,在此做一个总结及梳理,方便后期进行回顾,目前教程中的版本是<code>7.11.5</code>。</p> <h2 id="安装">安装</h2> <ul><li>推荐使用<code>npm</code>进行安装。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// npm</span>
npm install video<span class="token punctuation">.</span>js
<span class="token comment">// yarn</span>
yarn add video<span class="token punctuation">.</span>js
</code></pre></div><ul><li>使用<code>script</code>脚本进行安装</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- unpkg : 使用最新版本的video.js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/video.js/dist/video-js.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/video.js/dist/video.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- unpkg : 使用指定版本的video.js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/video.js@7.10.2/dist/video-js.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/video.js@7.10.2/dist/video.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="使用">使用</h2> <p><code>video.js</code>有两种使用方式,推荐使用<code>js</code>进行书写,这样方便我们更加精准的进行控制。</p> <ul><li>使用<code>html</code>标签加上对应属性</li></ul> <p>使用<code>html</code>的方式时,我们需要在对应的<code>video</code>标签上添加<code>video-js</code>的类名并且指定<code>data-setup={}</code>。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>这里的<code>data-setup</code>属性不能缺省，否则会报错。</p></div> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-player<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video-js<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">controls</span>
    <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>auto<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">poster</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//vjs.zencdn.net/v/oceans.png<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">data-setup</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{}<span class="token punctuation">'</span></span>
<span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//vjs.zencdn.net/v/oceans.mp4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video/mp4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//vjs.zencdn.net/v/oceans.webm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video/webm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//vjs.zencdn.net/v/oceans.ogv<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video/ogg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>vjs-no-js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        To view this video please enable JavaScript, and consider upgrading to a
        web browser that
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://videojs.com/html5-video-support/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        supports HTML5 video
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>使用<code>js</code>初始化</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token function">videojs</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    controls<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示控制条</span>
    poster<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token comment">// 视频封面图地址</span>
    preload<span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span> <span class="token comment">// 参见preload属性</span>
    autoplay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否自动播放</span>
    fluid<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 自适应宽高</span>
    language<span class="token operator">:</span> <span class="token string">'zh-CN'</span><span class="token punctuation">,</span> <span class="token comment">// 设置语言</span>
    muted<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否静音</span>
    inactivityTimeout<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    controlBar<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 设置控制条组件</span>
        <span class="token comment">/* 设置控制条里面组件的相关属性及显示与否  */</span>
        <span class="token string">'currentTimeDisplay'</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">'timeDivider'</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">'durationDisplay'</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">'remainingTimeDisplay'</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        volumePanel<span class="token operator">:</span> <span class="token punctuation">{</span>
        inline<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* 使用children的形式可以控制每一个控件的位置，以及显示与否 */</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'playToggle'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 播放/暂停按钮</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'currentTimeDisplay'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 视频当前已播放时间</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'progressControl'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 播放进度条</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'durationDisplay'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 视频播放总时间</span>
            <span class="token punctuation">{</span> <span class="token comment">// 倍数播放，可以自己设置</span>
                name<span class="token operator">:</span> <span class="token string">'playbackRateMenuButton'</span><span class="token punctuation">,</span>
                <span class="token string">'playbackRates'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">'volumePanel'</span><span class="token punctuation">,</span> <span class="token comment">// 音量控制</span>
                inline<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不使用水平方式</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'FullscreenToggle'</span><span class="token punctuation">}</span> <span class="token comment">// 全屏</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    sources<span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">// 视频来源路径</span>
        <span class="token punctuation">{</span>
            src<span class="token operator">:</span> <span class="token string">'//vjs.zencdn.net/v/oceans.mp4'</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'video/mp4'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'视频可以播放了'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="常用属性说明">常用属性说明</h2> <p>初始化完成之后,我们使用官网上的一个例子,播放器大致上长这个样子:</p> <p><img src="https://img-blog.csdnimg.cn/20210310203219826.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hqbDI3MTMxNA==,size_16,color_FFFFFF,t_70" alt="demo"></p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">controls</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示播放器底层的控制栏,如若关闭则不显示。</td></tr> <tr><td style="text-align:center;">poster</td> <td style="text-align:center;"><code>string</code></td> <td style="text-align:left;">视频的封面。</td></tr> <tr><td style="text-align:center;">preload</td> <td style="text-align:center;"><code>none</code>、<code>metadata</code>、<code>auto</code></td> <td style="text-align:left;"><code>none</code>: 啥也不加载。<br> <code>metadata</code>: 当页面加载后仅加载音频的元数据。<br> <code>auto</code>: 一旦页面加载，则开始加载音频。</td></tr> <tr><td style="text-align:center;">autoplay</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否自动进行播放,<code>在H5浏览器中需要用户手动交互触发后才可以自动进行播放</code>。</td></tr> <tr><td style="text-align:center;">fluid</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否自适应容器的宽高,为<code>true</code>时假如页面内只有一个播放器会自动撑满整个页面。</td></tr> <tr><td style="text-align:center;">language</td> <td style="text-align:center;"><code>zh-CN</code>、<code>en</code></td> <td style="text-align:left;">播放器语言</td></tr> <tr><td style="text-align:center;">muted</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">控制播放器是否静音</td></tr> <tr><td style="text-align:center;">controlBar</td> <td style="text-align:center;"><code>object</code></td> <td style="text-align:left;">自定义播放器控制栏的属性</td></tr> <tr><td style="text-align:center;">sources</td> <td style="text-align:center;"><code>object</code></td> <td style="text-align:left;">自定义视频的播放来源和播放类型</td></tr> <tr><td style="text-align:center;">nativeControlsForTouch</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否使用浏览器原生的控件</td></tr> <tr><td style="text-align:center;">notSupportedMessage</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否允许重写默认的消息显示出来时，<code>video.js</code>无法播放媒体源</td></tr> <tr><td style="text-align:center;">plugins</td> <td style="text-align:center;"><code>object</code></td> <td style="text-align:left;">插件</td></tr> <tr><td style="text-align:center;">techOrder</td> <td style="text-align:center;"><code>array</code></td> <td style="text-align:left;">使用播放器的顺序 ['html5', 'flash'] 优先使用html5播放器，如果不支持将使用flash</td></tr> <tr><td style="text-align:center;">userActions</td> <td style="text-align:center;"><code>object</code></td> <td style="text-align:left;">用户自定义行为 包含<code>doubleClick</code>(是否开启双击)和<code>hotkeys</code>(是否支持热键)</td></tr></tbody></table> <h3 id="controlbar属性说明">controlBar属性说明:</h3> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">playToggle</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示控制栏的播放、暂停按钮。</td></tr> <tr><td style="text-align:center;">volumeMenuButton</td> <td style="text-align:center;"><code>VolumePanelOptions</code>、<code>boolean</code></td> <td style="text-align:left;">如果是<code>boolean</code>值控制音量调节按钮的显示,如果是<code>VolumePanelOptions</code>则进行配置。</td></tr> <tr><td style="text-align:center;">currentTimeDisplay</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示当前视频播放时间。</td></tr> <tr><td style="text-align:center;">timeDivider</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示视频播放时间分隔符,目前是<code>/</code>。</td></tr> <tr><td style="text-align:center;">durationDisplay</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示视频总时长。</td></tr> <tr><td style="text-align:center;">progressControl</td> <td style="text-align:center;"><code>ProgressControlOptions</code>、<code>false</code></td> <td style="text-align:left;">点播流时，播放进度条，seek控制。</td></tr> <tr><td style="text-align:center;">liveDisplay</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">直播流时，显示LIVE。</td></tr> <tr><td style="text-align:center;">remainingTimeDisplay</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示视频剩余播放时长</td></tr> <tr><td style="text-align:center;">playbackRateMenuButton</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示播放速率控制按钮,目前只有<code>HTML5</code>模式下才支持设置播放速率。</td></tr> <tr><td style="text-align:center;">fullscreenToggle</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示全屏控制按钮。</td></tr></tbody></table> <p><img src="https://img-blog.csdnimg.cn/20210310211311440.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hqbDI3MTMxNA==,size_16,color_FFFFFF,t_70" alt="controlBar属性说明"></p> <h4 id="volumepaneloptions">VolumePanelOptions</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">inline</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否是已行的形式显示。</td></tr> <tr><td style="text-align:center;">volumeControl</td> <td style="text-align:center;"><code>VolumeControlOptions</code></td> <td style="text-align:left;">配置项。</td></tr></tbody></table> <h4 id="volumecontroloptions">VolumeControlOptions</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">vertical</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否垂直的形式显示。</td></tr> <tr><td style="text-align:center;">volumeBar</td> <td style="text-align:center;"><code>VolumeBar</code></td> <td style="text-align:left;">使用自定义组件。</td></tr></tbody></table> <h4 id="progresscontroloptions">ProgressControlOptions</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">seekBar</td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:left;">是否显示拖动进度条。</td></tr></tbody></table> <h2 id="常用自定义样式修改">常用自定义样式修改</h2> <ul><li><h4 id="修改默认的字体大小">修改默认的字体大小:</h4></li></ul> <p><code>video.js</code>采用的是<code>em</code>单位,单位可自定义,我们可以通过修改<code>.video-js</code>的<code>font-size</code>进行自定义。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.video-js</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><h4 id="修改默认的播放按钮样式">修改默认的播放按钮样式:</h4></li></ul> <p><code>video.js</code>默认的播放按钮在视频播放器的左上角,我们的习惯是默认都放在视频播放器的中间,可以通过两种方式进行修改。</p> <p><img src="https://img-blog.csdnimg.cn/20210311142438647.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hqbDI3MTMxNA==,size_16,color_FFFFFF,t_70" alt="默认播放按钮位置"></p> <p><strong>1. 采用内置的样式名<code>vjs-big-play-centered</code></strong>。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>video-js vjs-default-skin vjs-big-play-centered<span class="token punctuation">'</span></span>
    <span class="token attr-name">muted</span><span class="token attr-value"><span class="token punctuation">=</span>{muted}</span>
    <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation">=</span>{preload}</span>
    <span class="token attr-name">poster</span><span class="token attr-value"><span class="token punctuation">=</span>{poster}</span>
<span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>{src}</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>{playerType}</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>2. 采用样式覆盖,自定义修改位置</strong>。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token comment">// 重新默认的播放按钮样式</span>
<span class="token selector">:global(.video-js .vjs-big-play-button)</span> <span class="token punctuation">{</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span>50%<span class="token punctuation">,</span> <span class="token operator">-</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果需要对默认的播放按钮进行自定义样式,也需要在 <code>.video-js .vjs-big-play-button</code>这个类名中进行覆盖。</p></div> <h4 id="修改播放按钮为圆形">修改播放按钮为圆形</h4> <p><code>video.js</code>目前默认的样式是个方形带一些圆角的按钮,也需要通过修改<code>.video-js .vjs-big-play-button</code>这个类名中进行覆盖。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token comment">// demo</span>
<span class="token selector">:global(.video-js .vjs-big-play-button)</span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 2.5em<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 2.3em<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 2.5em<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 2.5em<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #73859f<span class="token punctuation">;</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 0.15em<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token operator">-</span>1.25em<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token operator">-</span>1.75em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="视频加载出错时隐藏播放按钮">视频加载出错时隐藏播放按钮</h4> <p>通过修改<code>.video-js.vjs-paused .vjs-big-play-button</code>类名,我们可以控制当视频加载错误时隐藏播放按钮。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.video-js.vjs-paused .vjs-big-play-button)</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="视频暂停时显示播放按钮">视频暂停时显示播放按钮</h4> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.vjs-paused .vjs-big-play-button,
.vjs-paused.vjs-has-started .vjs-big-play-button)</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="自定义加载icon隐藏默认加载图标">自定义加载icon隐藏默认加载图标</h4> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.vjs-loading-spinner),
:global(.vjs-seeking .vjs-loading-spinner),
:global(.vjs-waiting .vjs-loading-spinner)</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="修改加载圆圈">修改加载圆圈</h4> <p>通过修改<code>.vjs-loading-spinner</code>类名,我们可以修改加载时的loading图标。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token comment">// demo</span>
<span class="token selector">:global(.vjs-loading-spinner)</span><span class="token punctuation">{</span>
    <span class="token comment">// 自定义样式</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 2.5em<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token operator">-</span>1em<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token operator">-</span>1.5em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="修改控制条默认样式">修改控制条默认样式</h4> <p>通过修改<code>.video-js .vjs-control-bar</code>类名,我们可以自定义控制条样式。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.video-js .vjs-control-bar)</span><span class="token punctuation">{</span>
    <span class="token comment">// 自定义样式</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="修改控制条所有图标的样式">修改控制条所有图标的样式</h4> <p>在<code>video.js</code>中图标是通过iconfont形式的字体图标来实现的,采用统一的<code>fontFamily: VideoJS;</code>要修改图标尺寸等信息可以在伪类样式<code>.vjs-button &gt; .vjs-icon-placeholder:before</code>中进行修改。</p> <p><img src="https://img-blog.csdnimg.cn/20210311140848867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hqbDI3MTMxNA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.vjs-button &gt; .vjs-icon-placeholder:before)</span><span class="token punctuation">{</span>
    <span class="token comment">// 自定义尺寸等信息</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>一点需要注意的是:</p> <p>图标字体大小最好使用<code>px</code>单位，如果使用<code>em</code>，各浏览器表现可能会不大一样。</p></div> <h4 id="修改进度条的背景色">修改进度条的背景色</h4> <p>要修改进度条的背景色,我们可以通过修改<code>.video-js .vjs-play-progress</code>类名。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">:global(.video-js .vjs-play-progress)</span><span class="token punctuation">{</span>
    <span class="token comment">// 修改背景色</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> 颜色<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="控制点击屏幕播放-暂停">控制点击屏幕播放/暂停</h4> <p><code>pointer-events</code>是CSS的一个属性，用来控制鼠标的动作。它能够：</p> <ul><li>阻止用户的点击动作产生任何效果</li> <li>阻止缺省鼠标指针的显示</li> <li>阻止CSS里的hover和active状态的变化触发事件</li> <li>阻止JavaScript点击动作触发的事件</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">auto</td> <td style="text-align:left;">默认值。元素对指针事件做出反应，比如 :hover 和 click。</td></tr> <tr><td style="text-align:center;">none</td> <td style="text-align:left;">元素不对指针事件做出反应。</td></tr></tbody></table> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">.video-js.vjs-playing .vjs-tech</span> <span class="token punctuation">{</span>
    <span class="token property">pointer-events</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="控制进度显示当前播放时间及视频总时长">控制进度显示当前播放时间及视频总时长</h4> <p><code>video.js</code>默认是只显示当前视频的剩余时长的,如果要控制仅显示当前播放时间即视频时长我们需要进行配置并修改默认的css样式。</p> <ul><li>首先配置对应开关</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code>remainingTimeDisplay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
currentTimeDisplay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
durationDisplay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>当我们配置完发现时间还是没有显示完整,因为默认样式把当前播放时间设置为<code>display:none;</code>了。</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token comment">// 重置不显示时间</span>
<span class="token selector">:global(.video-js .vjs-current-time),
:global(.video-js .vjs-duration)</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="常用事件说明">常用事件说明</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 事件类型</span>
<span class="token keyword">const</span> <span class="token constant">EVENTS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">READY</span><span class="token operator">:</span> <span class="token string">'ready'</span><span class="token punctuation">,</span> 
  <span class="token constant">LOADED</span><span class="token operator">:</span> <span class="token string">'loadedmetadata'</span><span class="token punctuation">,</span>
  <span class="token constant">PLAY</span><span class="token operator">:</span> <span class="token string">'play'</span><span class="token punctuation">,</span>
  <span class="token constant">PAUSE</span><span class="token operator">:</span> <span class="token string">'pause'</span><span class="token punctuation">,</span>
  <span class="token constant">ENDED</span><span class="token operator">:</span> <span class="token string">'ended'</span><span class="token punctuation">,</span>
  <span class="token constant">CANPLAY</span><span class="token operator">:</span> <span class="token string">'canplay'</span><span class="token punctuation">,</span>
  <span class="token constant">WAITING</span><span class="token operator">:</span> <span class="token string">'waiting'</span><span class="token punctuation">,</span>
  <span class="token constant">PLAYING</span><span class="token operator">:</span> <span class="token string">'playing'</span><span class="token punctuation">,</span>
  <span class="token constant">TIMEUPDATE</span><span class="token operator">:</span> <span class="token string">'timeupdate'</span><span class="token punctuation">,</span>
  <span class="token constant">ERROR</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
  <span class="token constant">CONTORLSVISIBLE</span><span class="token operator">:</span> <span class="token string">'useractive'</span><span class="token punctuation">,</span>
  <span class="token constant">CONTORLSHIDE</span><span class="token operator">:</span> <span class="token string">'userinactive'</span><span class="token punctuation">,</span>
  <span class="token constant">DURATIONCHANGE</span><span class="token operator">:</span> <span class="token string">'durationchange'</span><span class="token punctuation">,</span> 
  <span class="token constant">FIRSTPLAY</span><span class="token operator">:</span> <span class="token string">'firstplay'</span><span class="token punctuation">,</span>
  <span class="token constant">FULLSCREENCHANGE</span><span class="token operator">:</span> <span class="token string">'fullscreenchange'</span><span class="token punctuation">,</span>
  <span class="token constant">LOADSTART</span><span class="token operator">:</span> <span class="token string">'loadstart'</span><span class="token punctuation">,</span>
  <span class="token constant">LOADEDALL</span><span class="token operator">:</span> <span class="token string">'loadedalldata'</span><span class="token punctuation">,</span>
  <span class="token constant">SEEKED</span><span class="token operator">:</span> <span class="token string">'seeked'</span><span class="token punctuation">,</span>
  <span class="token constant">RESIZE</span><span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th style="text-align:center;">事件</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">durationchange</td> <td style="text-align:left;">视频时长改变了（只有视频加载后，时长会由“NaN”变成音频/视频的实际时长）。</td></tr> <tr><td style="text-align:center;">loadstart</td> <td style="text-align:left;">当浏览器开始查找视频时，开始加载。</td></tr> <tr><td style="text-align:center;">loadeddata</td> <td style="text-align:left;">当浏览器已加载视频的当前帧时</td></tr> <tr><td style="text-align:center;">loadedmetadata</td> <td style="text-align:left;">当浏览器已加载视频的元数据时</td></tr> <tr><td style="text-align:center;">ended</td> <td style="text-align:left;">视频播放结束（currentTime == duration）。</td></tr> <tr><td style="text-align:center;">error</td> <td style="text-align:left;">视频加载出错</td></tr> <tr><td style="text-align:center;">fullscreenchange</td> <td style="text-align:left;">进入/退出全屏状态</td></tr> <tr><td style="text-align:center;">pause</td> <td style="text-align:left;">当视频被暂停</td></tr> <tr><td style="text-align:center;">play</td> <td style="text-align:left;">当视频开始播放</td></tr> <tr><td style="text-align:center;">progress</td> <td style="text-align:left;">下载视频</td></tr> <tr><td style="text-align:center;">timeupdate</td> <td style="text-align:left;">播放进度更新</td></tr> <tr><td style="text-align:center;">volumechange</td> <td style="text-align:left;">视频音量变更时</td></tr></tbody></table> <h2 id="常用api说明">常用API说明</h2> <ol><li><h3 id="获取-设置视频播放进度">获取/设置视频播放进度</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 返回当前播放进度</span>
player<span class="token punctuation">.</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置播放进度</span>
player<span class="token punctuation">.</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><h3 id="获取视频播放总时长">获取视频播放总时长</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>player<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>获取视频总长度需要在视频加载完成之后才可以获取到。对应<code>loadedmetadata</code>生命周期。</p></div> <ol start="3"><li><h3 id="设置视频的声音大小">设置视频的声音大小</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 数值为 0~1 之间的值</span>
player<span class="token punctuation">.</span><span class="token function">volume</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><h3 id="调整视频的宽度、高度">调整视频的宽度、高度</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 调整宽高 单位:px</span>
player<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
player<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用size方法</span>
player<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li><h3 id="开启全屏、退出全屏">开启全屏、退出全屏</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 进入全屏</span>
player<span class="token punctuation">.</span><span class="token function">enterFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 退出全屏</span>
player<span class="token punctuation">.</span><span class="token function">exitFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li><h3 id="获取、设置播放源">获取、设置播放源</h3></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>player<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
player<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'www.baidu.mp4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常见问题faq">常见问题FAQ</h2> <ol><li><h3 id="解决在iphone中播放时自动全屏问题">解决在iPhone中播放时自动全屏问题?</h3></li></ol> <p>由于在Iphone设备上播放视频时,包括在微信浏览器上,视频会在动全屏,而且这种全屏是以一种类似Modal弹窗的全屏,如果我们不想自动全屏需要给<code>video</code>标签中添加<code>playsinline=&quot;true&quot;</code>属性。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>video
    <span class="token operator">...</span>
    playsinline<span class="token operator">=</span><span class="token string">&quot;true&quot;</span>
    <span class="token comment">// 兼容早期版本</span>
    webkit<span class="token operator">-</span>playsinline<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> 
<span class="token operator">&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>src<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>playerType<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre></div><ol start="2"><li><h3 id="如何重载视频">如何重载视频?</h3></li></ol> <p>有的时候,比如说播放过程中产生了错误,我们需要重新去加载视频资源。</p> <div class="language-js extra-class"><pre class="language-js"><code>video<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
source<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> <span class="token string">'2.mp4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
video<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li><h3 id="如何添加监听事件">如何添加监听事件?</h3></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token constant">EVENTS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">READY</span><span class="token operator">:</span> <span class="token string">'ready'</span><span class="token punctuation">,</span> 
  <span class="token constant">LOADED</span><span class="token operator">:</span> <span class="token string">'loadedmetadata'</span><span class="token punctuation">,</span>
  <span class="token constant">PLAY</span><span class="token operator">:</span> <span class="token string">'play'</span><span class="token punctuation">,</span>
  <span class="token constant">PAUSE</span><span class="token operator">:</span> <span class="token string">'pause'</span><span class="token punctuation">,</span>
  <span class="token constant">ENDED</span><span class="token operator">:</span> <span class="token string">'ended'</span><span class="token punctuation">,</span>
  <span class="token constant">CANPLAY</span><span class="token operator">:</span> <span class="token string">'canplay'</span><span class="token punctuation">,</span>
  <span class="token constant">WAITING</span><span class="token operator">:</span> <span class="token string">'waiting'</span><span class="token punctuation">,</span>
  <span class="token constant">PLAYING</span><span class="token operator">:</span> <span class="token string">'playing'</span><span class="token punctuation">,</span>
  <span class="token constant">TIMEUPDATE</span><span class="token operator">:</span> <span class="token string">'timeupdate'</span><span class="token punctuation">,</span>
  <span class="token constant">ERROR</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
  <span class="token constant">CONTORLSVISIBLE</span><span class="token operator">:</span> <span class="token string">'useractive'</span><span class="token punctuation">,</span>
  <span class="token constant">CONTORLSHIDE</span><span class="token operator">:</span> <span class="token string">'userinactive'</span><span class="token punctuation">,</span>
  <span class="token constant">DURATIONCHANGE</span><span class="token operator">:</span> <span class="token string">'durationchange'</span><span class="token punctuation">,</span>
  <span class="token constant">FIRSTPLAY</span><span class="token operator">:</span> <span class="token string">'firstplay'</span><span class="token punctuation">,</span>
  <span class="token constant">FULLSCREENCHANGE</span><span class="token operator">:</span> <span class="token string">'fullscreenchange'</span><span class="token punctuation">,</span>
  <span class="token constant">LOADEDALL</span><span class="token operator">:</span> <span class="token string">'loadedalldata'</span><span class="token punctuation">,</span>
  <span class="token constant">SEEKED</span><span class="token operator">:</span> <span class="token string">'seeked'</span><span class="token punctuation">,</span>
  <span class="token constant">RESIZE</span><span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token function">videojs</span><span class="token punctuation">(</span>h5VideoPlayer<span class="token punctuation">.</span>current<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">READY</span><span class="token punctuation">,</span> ready<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">LOADED</span><span class="token punctuation">,</span> loaded<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">PLAY</span><span class="token punctuation">,</span> play<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">PAUSE</span><span class="token punctuation">,</span> pause<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">TIMEUPDATE</span><span class="token punctuation">,</span> timeupdate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">ENDED</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">CANPLAY</span><span class="token punctuation">,</span> canplay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">WAITING</span><span class="token punctuation">,</span> waiting<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">PLAYING</span><span class="token punctuation">,</span> playing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">CONTORLSVISIBLE</span><span class="token punctuation">,</span> controlsVisible<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">CONTORLSHIDE</span><span class="token punctuation">,</span> controlsHide<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><h3 id="如何触发指定的生命周期">如何触发指定的生命周期?</h3></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code>player<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token constant">EVENTS</span><span class="token punctuation">.</span><span class="token constant">PLAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li><h3 id="如果我在video外层加了个div-我想要去除video-js额外加的容器我要怎么办">如果我在video外层加了个div,我想要去除video.js额外加的容器我要怎么办?</h3></li></ol> <p>当我们给元素添加了<code>data-vjs-player</code>属性之后<code>video.js</code>就不在创建额外的DOM元素来包裹了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 处理前</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>video ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>videoNode <span class="token operator">=</span> node<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">'video-js'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// 处理后</span>
<span class="token operator">&lt;</span>div data<span class="token operator">-</span>vjs<span class="token operator">-</span>player<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>video ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>videoNode <span class="token operator">=</span> node<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">'video-js'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><ol start="6"><li><h3 id="react如何使用video-js-播放rtmp流视频？">react如何使用video.js 播放rtmp流视频？</h3></li></ol> <p><code>video.js</code>默认是不支持<code>RTMP</code>流播放的,需要支持的话需要单独安装<code>videojs-flash</code>,若果浏览器没有启用fllash插件会有相应提示。</p> <div class="language-npm extra-class"><pre class="language-text"><code>yarn add video.js videojs-flash
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token comment">//引入依赖</span>
<span class="token keyword">import</span> <span class="token string">'video.js/dist/video-js.css'</span>
<span class="token keyword">import</span> <span class="token string">'videojs-flash'</span>
<span class="token keyword">import</span> videojs <span class="token keyword">from</span> <span class="token string">'video.js'</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        url<span class="token operator">:</span><span class="token string">&quot;rtmp://58.200.131.2:1935/livetv/hunantv&quot;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span><span class="token string">&quot;湖南卫视&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        url<span class="token operator">:</span><span class="token string">&quot;rtmp://202.69.69.180:443/webcast/bshdlive-pc&quot;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span><span class="token string">&quot;香港财经&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    state<span class="token operator">=</span><span class="token punctuation">{</span>
        nowPlay<span class="token operator">:</span><span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//组件挂载完成之后初始化播放控件</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> videoJsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
            autoplay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            controls<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            sources<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              src<span class="token operator">:</span> <span class="token string">'rtmp://58.200.131.2:1935/livetv/hunantv'</span><span class="token punctuation">,</span>
              type<span class="token operator">:</span> <span class="token string">'rtmp/flv'</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> <span class="token function">videojs</span><span class="token punctuation">(</span><span class="token string">'my-video'</span><span class="token punctuation">,</span> videoJsOptions <span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">onPlayerReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//(id或者refs获取节点，options，回调函数)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'player is ready!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// In this context, `this` is the player that was created by Video.js.</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// How about an event listener?</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ended'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              videojs<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Awww...over so soon?!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>nowPlay<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            nowPlay<span class="token operator">:</span>item<span class="token punctuation">.</span>name
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> li <span class="token operator">=</span> <span class="token punctuation">{</span>
            background<span class="token operator">:</span> <span class="token string">&quot;cadetblue&quot;</span><span class="token punctuation">,</span>
            padding<span class="token operator">:</span> <span class="token string">&quot;11px&quot;</span><span class="token punctuation">,</span>
            width<span class="token operator">:</span> <span class="token string">&quot;fit-content&quot;</span><span class="token punctuation">,</span>
            marginBottom<span class="token operator">:</span><span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
            cursor<span class="token operator">:</span><span class="token string">&quot;pointer&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> playing <span class="token operator">=</span> <span class="token punctuation">{</span>
            background<span class="token operator">:</span> <span class="token string">&quot;rgb(141, 182, 28)&quot;</span><span class="token punctuation">,</span>
            padding<span class="token operator">:</span> <span class="token string">&quot;11px&quot;</span><span class="token punctuation">,</span>
            width<span class="token operator">:</span> <span class="token string">&quot;fit-content&quot;</span><span class="token punctuation">,</span>
            marginBottom<span class="token operator">:</span><span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
            cursor<span class="token operator">:</span><span class="token string">&quot;pointer&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main-wrap<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">测试video.js</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>listStyleType<span class="token operator">:</span> <span class="token string">&quot;decimal-leading-zero&quot;</span><span class="token punctuation">,</span>float<span class="token operator">:</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token punctuation">{</span>
                        url<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>height<span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>nowPlay<span class="token operator">===</span>item<span class="token punctuation">.</span>name<span class="token operator">?</span>playing<span class="token operator">:</span>li<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span><span class="token string">&quot;50vw&quot;</span><span class="token punctuation">,</span>height<span class="token operator">:</span><span class="token string">&quot;50vh&quot;</span><span class="token punctuation">,</span>margin<span class="token operator">:</span><span class="token string">&quot;0 auto&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-video<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video-js vjs-default-skin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>   
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><h2 id="进阶技巧">进阶技巧</h2> <ul><li>2021.03.11</li></ul> <h3 id="_1-如何添加自定义组件">1. 如何添加自定义组件?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myButton <span class="token operator">=</span> video<span class="token punctuation">.</span>controlBar<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">&quot;Press me&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// other options</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

myButton<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">&quot;html-classname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过上述的代码会在控制栏上加上这段代码:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>vjs-control html-classname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>polite<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  &lt;div class='vjs-control-content&quot;&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>vjs-control-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Press me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-如何扩展video-js的插件功能">2. 如何扩展<code>video.js</code>的插件功能?</h3> <p>比如<code>video.js</code>默认没有提供点击空格/回车键控制播放/暂停。我们可以通过写自己的插件来实现额外的功能,这里放个例子:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// code</span>
<span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 写插件：当监听到播放器实例的播放（play）事件，就输出一条语句</span>
   <span class="token keyword">function</span> <span class="token function">examplePlugin</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'play'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'playback has started!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>

   <span class="token comment">// 注册该插件</span>
   videojs<span class="token punctuation">.</span><span class="token function">registerPlugin</span><span class="token punctuation">(</span><span class="token string">'examplePlugin'</span><span class="token punctuation">,</span> examplePlugin<span class="token punctuation">)</span>

   <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token comment">// code</span>
   <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在组件中使用:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> CourseVideoJsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  autoplay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  controls<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token operator">...</span> <span class="token operator">...</span>

  <span class="token comment">// 使用该插件</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    setStateandFocusPlugin<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接下来，我们需要监听“按下空格键”这个事件。这个需求可以分为两步：</p> <ol><li>监听键盘事件</li> <li>判断是否为空格键</li></ol> <p>针对前者我们可以使用<code>onKeyDown</code>事件进行监听,空格键的键码是<code>32</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>videojs<span class="token punctuation">.</span><span class="token function">registerPlugin</span><span class="token punctuation">(</span><span class="token string">'setStateandFocusPlugin'</span><span class="token punctuation">,</span> setStateandFocusPlugin<span class="token punctuation">)</span>
<span class="token comment">// videojs.registerPlugin('handleKeyPress', handleKeyPress)</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div data<span class="token operator">-</span>vjs<span class="token operator">-</span>player
    onKeyDown<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSpaceKeyDown<span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>video
    ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>videoNode <span class="token operator">=</span> node<span class="token punctuation">}</span>
    className<span class="token operator">=</span><span class="token string">'video-js vjs-hqcat'</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接下来写监听到 <code>onKeyDown</code> 事件后调用的函数：</p> <ol><li>首先，我们需要判断是否为空格键。</li> <li>如果是，我们需要禁止原来默认的动作。</li> <li>然后，利用之前设置的视频播放状态，进行相应的操作：
<ul><li>如果视频正在播放中，则暂停视频。</li> <li>如果视频正在暂停中，则继续播放视频。</li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">handleSpaceKeyDown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断是否为空格键</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 根据播放状态的不同，进行相应的操作</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span>state<span class="token punctuation">.</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'playing'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
        <span class="token keyword">case</span> <span class="token string">'pause'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">setStateandFocusPlugin</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'play'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'playback has started!'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      state<span class="token operator">:</span> <span class="token string">'playing'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pause'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'playback has paused'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      state<span class="token operator">:</span> <span class="token string">'pause'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'timeupdate'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    that<span class="token punctuation">.</span>refs<span class="token punctuation">.</span>videoPlayerRef<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">2021-03-29 14:47:00</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/mobile/rtc.html" class="prev">
        WebRtc 技术在H5直播中的运用
      </a></span> <span class="next"><a href="/docs/react/lifestyle.html">
        生命周期详解
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="gitalk-container"><div id="gitalk-container"></div></div><div></div><!----></div></div>
    <script src="/docs/assets/js/app.c978ed4c.js" defer></script><script src="/docs/assets/js/2.e8452e90.js" defer></script><script src="/docs/assets/js/124.ab27eaeb.js" defer></script>
  </body>
</html>
