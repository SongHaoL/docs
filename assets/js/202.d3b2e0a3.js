(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{863:function(v,_,t){"use strict";t.r(_);var e=t(14),s=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"微信小程序开发知识"}},[v._v("微信小程序开发知识")]),v._v(" "),t("h2",{attrs:{id:"wxs"}},[v._v("WXS")]),v._v(" "),t("ul",[t("li",[v._v("2020.10.31")])]),v._v(" "),t("p",[t("code",[v._v("WXS（WeiXin Script）")]),v._v("是小程序的一套脚本语言，结合 "),t("code",[v._v("WXML")]),v._v("，可以构建出页面的结构。")]),v._v(" "),t("p",[t("strong",[v._v("注意")])]),v._v(" "),t("ol",[t("li",[t("p",[t("code",[v._v("WXS")]),v._v(" 不依赖于运行时的基础库版本，可以在所有版本的小程序中运行。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("WXS")]),v._v(" 与 "),t("code",[v._v("JavaScript")]),v._v(" 是不同的语言，有自己的语法，并不和 "),t("code",[v._v("JavaScript")]),v._v(" 一致。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("WXS")]),v._v(" 的运行环境和其他 "),t("code",[v._v("JavaScript")]),v._v(" 代码是隔离的，"),t("code",[v._v("WXS")]),v._v(" 中不能调用其他 "),t("code",[v._v("JavaScript")]),v._v(" 文件中定义的函数，也不能调用小程序提供的API(即"),t("code",[v._v("wxs")]),v._v("文件中无法使用"),t("code",[v._v("wx.xxx")]),v._v(")。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("WXS")]),v._v(" 函数不能作为组件的事件回调。")])]),v._v(" "),t("li",[t("p",[v._v("由于运行环境的差异，在 "),t("code",[v._v("iOS")]),v._v(" 设备上小程序内的 "),t("code",[v._v("WXS")]),v._v(" 会比 "),t("code",[v._v("JavaScript")]),v._v(" 代码快 "),t("code",[v._v("2 ~ 20 倍")]),v._v("。在 "),t("code",[v._v("android")]),v._v(" 设备上二者运行效率无差异。")])])]),v._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[v._v("TIP")]),v._v(" "),t("p",[v._v("第一点: "),t("code",[v._v("wxs")]),v._v("里面的代码是不需要去做新老版本兼容的。")]),v._v(" "),t("p",[v._v("第二点: 类似 "),t("code",[v._v("const fn = () => {}")]),v._v("等ES6语法在wxs中是不支持的。")]),v._v(" "),t("p",[v._v("第四点: 在"),t("code",[v._v("wxml")]),v._v("文件中是不支持对"),t("code",[v._v("bindtap")]),v._v("等事件绑定"),t("code",[v._v("wxs")]),v._v("中定义的函数的,交互等事件只能写在js文件中。")]),v._v(" "),t("p",[v._v("第五点: 虽然在"),t("code",[v._v("android")]),v._v("中效率无差异,但是某些工具函数等只跟页面显示逻辑相关的方法可以放在"),t("code",[v._v("wxs")]),v._v("文件中实现,这样可以加快在"),t("code",[v._v("ios")]),v._v("中的速度。")])]),v._v(" "),t("h3",{attrs:{id:"引申-为什么wxs快呢"}},[v._v("引申: 为什么WXS快呢?")]),v._v(" "),t("p",[v._v("由于 "),t("code",[v._v("WXS")]),v._v(" 与 "),t("code",[v._v("WXML")]),v._v(" 是在同一个线程运行的，避免了跨线程通信的开销。(也就仅此一点原因)")]),v._v(" "),t("h2",{attrs:{id:"引用npm包"}},[v._v("引用npm包")]),v._v(" "),t("ul",[t("li",[v._v("2020.11.03")])]),v._v(" "),t("p",[v._v("小程序中目前已支持使用npm包来安装自定义插件,在安装前需要先安装"),t("code",[v._v("Node.js")]),v._v(",执行安装命令后需要在项目开发者工具菜单上,点击工具----\x3e构建npm。")]),v._v(" "),t("h3",{attrs:{id:"引申-构建npm这个步骤到底发生了什么？"}},[v._v("引申: 构建npm这个步骤到底发生了什么？")]),v._v(" "),t("p",[v._v("我们安装的npm包,执行构建命令之后会生成一个node_modules文件夹,在这个文件夹下面会放置着我们安装的包。在引用的时候,需要我们在用到目录中配置json。类似如下示例:")]),v._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[v._v('"usingComponents"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(":")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[v._v('"mp-cell"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(":")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"weui-miniprogram/cell/cell"')]),v._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n")])])]),t("p",[v._v("配置好后,我们看到组件的地址是直接以文件路径开始的,默认会去在项目的"),t("code",[v._v("miniprogram_npm")]),v._v("这个文件夹下面去找对应的文件。这也就是构建npm后使用的本质,小程序实际上读取的是"),t("code",[v._v("miniprogram_npm")]),v._v("这个目录下的文件,而构建npm命令执行时,把\n"),t("code",[v._v("node_modules")]),v._v("目录下的代码拷贝到了"),t("code",[v._v("miniprogram_npm")]),v._v("目录下。")])])}),[],!1,null,null,null);_.default=s.exports}}]);