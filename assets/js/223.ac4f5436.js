(window.webpackJsonp=window.webpackJsonp||[]).push([[223],{842:function(t,a,s){"use strict";s.r(a);var e=s(15),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"如何在项目中匹配所有-emoji"}},[t._v("如何在项目中匹配所有 emoji")]),t._v(" "),s("ul",[s("li",[t._v("2021.05.31")])]),t._v(" "),s("h2",{attrs:{id:"场景描述"}},[t._v("场景描述")]),t._v(" "),s("p",[t._v("数据库中存储用户昵称等信息经常会采用"),s("code",[t._v("utf8mb4")]),t._v("的格式，这种格式可以支持存储"),s("code",[t._v("emoji")]),t._v("信息。因此很多用户的昵称上都会带一些奇奇怪怪的 emoji 表情。针对某些场景又需要对用户信息进行脱敏处理，不让直接透出真实昵称。")]),t._v(" "),s("p",[t._v("例如在直播业务中，涉及到主播端和用户端，在主播端信息要正常显示，针对其他用户端的场景进行脱敏处理。这个时候就需要前端自行进行处理了。")]),t._v(" "),s("h2",{attrs:{id:"javascript-中的-emoji"}},[t._v("JavaScript 中的 emoji")]),t._v(" "),s("p",[t._v("首先我们来了解下什么是 Unicode。")]),t._v(" "),s("blockquote",[s("p",[t._v("Unicode，官方中文名称为统一码[1]，也译名为万国码、国际码、单一码，是计算机科学领域的业界标准。它整理、编码了世界上大部分的文字系统，使得电脑可以用更为简单的方式来呈现和处理文字。")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Code point")]),t._v(" — 特定的 Unicode 字符数字的表现.")]),t._v(" "),s("li",[s("code",[t._v("Character Code")]),t._v(" — code point 的另外一个称呼.")]),t._v(" "),s("li",[s("code",[t._v("Code Unit")]),t._v(" — code point 的编码单位(X 字节),Javascript 中使用 UTF-16.")]),t._v(" "),s("li",[s("code",[t._v("Decimal")]),t._v(" — code points 用十进制来表示.")]),t._v(" "),s("li",[s("code",[t._v("Hexadecimal")]),t._v(" — code points 用十六进制来表示.")])]),t._v(" "),s("p",[t._v("这样来描述可能大家都很模糊,我们来看一下例子理解下在不同格式下的表现：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们拿例子 `A` 来进行说明")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From string to decimal code point")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("codePointAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 65")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From decimal to hexadecimal code point")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 41")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From hexadecimal to decimal code point")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"41"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 65")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// alternatively")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0041")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 65")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From decimal code point to string")]),t._v("\nString"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// A")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From hexadecimal code point to string")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\u0041"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'A'")]),t._v("\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[s("code",[t._v("codePointAt")]),t._v(" 和 "),s("code",[t._v("fromCodePoint")]),t._v("都是 ES6 的新方法,用于处理"),s("code",[t._v("unicode")]),t._v("字符编码,采用"),s("code",[t._v("UTF-16")]),t._v("进行编码，包含了对"),s("code",[t._v("emoji")]),t._v("的处理。")]),t._v(" "),s("p",[t._v("我们可以使用这两种方式来代替"),s("code",[t._v("charCodeAt")]),t._v(",用于规避其处理"),s("code",[t._v("emoji")]),t._v("时无法正确解析的问题。")])]),t._v(" "),s("p",[t._v("我们再来看看例子:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"😸"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charCodeAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wrong: 55357")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"😸"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("codePointAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// correct: 128568")]),t._v("\n")])])]),s("p",[t._v("为了方便进行正则的匹配，我们一般会用 16 进制来表示对应的"),s("code",[t._v("emoji")]),t._v("编码。比如之前的"),s("code",[t._v("\\u0041")]),t._v("代表字符 A。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("这里需要注意的是，16 进制的编码必须要是 4 位的长度，且该不区分大小写。")]),t._v(" "),s("p",[t._v("例如: "),s("code",[t._v("\\uD83D")]),t._v(" 和 "),s("code",[t._v("\\ud83d")]),t._v("是等价的。")]),t._v(" "),s("p",[t._v("我们可以通过"),s("code",[t._v("String.fromCodePoint(0x0041)")]),t._v("来检查输出结果。")])]),t._v(" "),s("h3",{attrs:{id:"emoji-在-javascript-中的长度"}},[t._v("emoji 在 JavaScript 中的长度")]),t._v(" "),s("p",[t._v("我们来看看在"),s("code",[t._v("JavaScript")]),t._v("中的"),s("code",[t._v("emoji")]),t._v("占据多大的字节。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"😀"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("上述代码的真实长度是 2。根据 BMP 的规则，上述标签被拆分成了 2 段。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"\\uD83D\\uDE00"\n')])])]),s("p",[t._v("其中第一对称为"),s("code",[t._v("主代理")]),t._v("，后者称为"),s("code",[t._v("尾代理")]),t._v("。")]),t._v(" "),s("p",[t._v("那么如何获取字符串中的"),s("code",[t._v("emoji")]),t._v("呢?")]),t._v(" "),s("ul",[s("li",[t._v("我们来看看用字符串"),s("code",[t._v("split")]),t._v("处理后的结果")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc😀"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ["a", "b", "c", "�", "�"]')]),t._v("\n")])])]),s("p",[t._v("我们来看看正确的操作方式:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// http://www.2ality.com/2013/09/javascript-unicode.html")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUTF16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("codePoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TEN_BITS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1111111111"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("codeUnit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\\\u"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" codeUnit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("codePoint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xffff")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("codePoint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  codePoint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Shift right to get to most significant 10 bits")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" leadSurrogate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xd800")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("codePoint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mask to get least significant 10 bits")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" tailSurrogate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xdc00")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("codePoint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TEN_BITS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("leadSurrogate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tailSurrogate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// using codePointAt, it's easy to go from emoji")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to decimal and back.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Emoji to decimal representation")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"😀"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("codePointAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 128512;")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Decimal to emoji")]),t._v("\nString"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("128512")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "😀";')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// going from emoji to hexadecimal is a little")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bit trickier. To convert from decimal to hexadecimal,")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// we can use toUTF16.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Decimal to hexadecimal")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUTF16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("128512")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "\\uD83D\\uDE00";')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hexadecimal to emoji")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\uD83D\\uDE00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "😀";')]),t._v("\n")])])]),s("h2",{attrs:{id:"正则表达式法"}},[t._v("正则表达式法:")]),t._v(" "),s("p",[t._v("说完了其中的相关知识，我们再来看看解决方案。既然要去匹配"),s("code",[t._v("emoji")]),t._v("等信息，首先会想到的应该就是通过正则表达式的方式。那么如何能通过正则，匹配到所有的"),s("code",[t._v("emoji")]),t._v("表情呢?")]),t._v(" "),s("p",[t._v("我们先来看看囊括的"),s("code",[t._v("emoji")]),t._v("大致上有哪几种类型?")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("这里的说明类型来源于 github 上的一个项目"),s("a",{attrs:{href:"https://github.com/zly394/EmojiRegex",target:"_blank",rel:"noopener noreferrer"}},[t._v("传送门"),s("OutboundLink")],1),t._v(",描述的类型还比较全面,(更新的时间是在 4 年前，后续没怎么更新)。")])]),t._v(" "),s("h3",{attrs:{id:"_1-杂项符号及图形"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Miscellaneous_Symbols_and_Pictographs",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. 杂项符号及图形"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("杂项符号及图形一共有 768 个字符，范围为： "),s("code",[t._v("U+1F300 ～ U+1F5FF")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83C\\\\uDF00-\\\\uD83D\\\\uDDFF]"\n')])])]),s("h3",{attrs:{id:"_2-增补符号及图形"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Supplemental_Symbols_and_Pictographs",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. 增补符号及图形"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("增补符号及图形中一共有 82 个字符，范围为： "),s("code",[t._v("U+1F900 ～ U+1F9FF")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83E\\\\uDD00-\\\\uD83E\\\\uDDFF]"\n')])])]),s("h3",{attrs:{id:"_3-表情符号"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Emoticons",target:"_blank",rel:"noopener noreferrer"}},[t._v("3. 表情符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("表情符号一共有 80 个字符，范围为： "),s("code",[t._v("U+1F600 ～ U+1F64F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83D\\\\uDE00-\\\\uD83D\\\\uDE4F]"\n')])])]),s("h3",{attrs:{id:"_4-交通及地图符号"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Transport_and_Map_Symbols",target:"_blank",rel:"noopener noreferrer"}},[t._v("4. 交通及地图符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("交通及地图符号一共有 103 个字符，范围为： "),s("code",[t._v("U+1F680 ～ U+1F6FF")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83D\\\\uDE80-\\\\uD83D\\\\uDEFF]"\n')])])]),s("h3",{attrs:{id:"_5-杂项符号"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Miscellaneous_Symbols",target:"_blank",rel:"noopener noreferrer"}},[t._v("5. 杂项符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("杂项符号一共有 256 个字符，范围为： "),s("code",[t._v("U+2600 ～ U+26FF")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2600-\\\\u26FF]\\\\FE0F?"\n')])])]),s("h3",{attrs:{id:"_6-装饰符号"}},[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Template:Unicode_chart_Dingbats",target:"_blank",rel:"noopener noreferrer"}},[t._v("6. 装饰符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("装饰符号一共有 192 个字符，范围为： "),s("code",[t._v("U+2700 ～ U+27BF")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2700-\\\\u27BF]\\\\FE0F?"\n')])])]),s("h3",{attrs:{id:"_7-封闭式字母数字符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Enclosed_Alphanumerics",target:"_blank",rel:"noopener noreferrer"}},[t._v("7. 封闭式字母数字符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("封闭式字母数字符号中只有一个 emoji 字符，为： "),s("code",[t._v("U+24C2")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"\\\\u24C2\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_8-封闭式字母数字补充符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Enclosed_Alphanumeric_Supplement",target:"_blank",rel:"noopener noreferrer"}},[t._v("8. 封闭式字母数字补充符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("封闭式字母数字补充符号包含 41 个 emoji 字符，其中 26 个属于区域指示符号")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Regional_indicator_symbol",target:"_blank",rel:"noopener noreferrer"}},[t._v("8.1 区域指示符号"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("区域指示符号一共有 26 个字符，范围为： "),s("code",[t._v("U+1F1E6 ～ U+1F1FF")]),t._v("，并且其中每两个字母可以代表一个国家或地区的旗帜，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83C\\\\uDDE6-\\\\uD83C\\\\uDDFF]{1,2}"\n')])])]),s("ul",[s("li",[t._v("8.2 其他封闭式字母数字补充 "),s("code",[t._v("emoji")]),t._v(" 符号")])]),t._v(" "),s("p",[t._v("除了区域指示符号外其他的 emoji 字符为： "),s("code",[t._v("U+1F170")]),t._v("、 "),s("code",[t._v("U+1F171")]),t._v("、 "),s("code",[t._v("U+1F17E")]),t._v("、 "),s("code",[t._v("U+1F17F")]),t._v("、 "),s("code",[t._v("U+1F18E")]),t._v(" 和 "),s("code",[t._v("U+1F191 ～ U+1F19A")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83C\\\\uDD70\\\\uD83C\\\\uDD71\\\\uD83C\\\\uDD7E\\\\uD83C\\\\uDD7F\\\\uD83C\\\\uDD8E\\\\uD83C\\\\uDD91-\\\\uD83C\\\\uDD9A]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_9-键帽符号-⃣-️⃣-and-0⃣-9⃣"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Basic_Latin_%28Unicode_block%29",target:"_blank",rel:"noopener noreferrer"}},[t._v("9. 键帽符号(#⃣, *️⃣ and 0⃣-9⃣)"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("键帽符号一共有 12 个字符，其组成方式为： "),s("code",[t._v("U+0023")]),t._v("、 "),s("code",[t._v("U+002A")]),t._v(" 和 "),s("code",[t._v("U+0030")]),t._v(" ～ "),s("code",[t._v("U+0039")]),t._v(" 12 个键帽基础字符加上 "),s("code",[t._v("U+FE0F")]),t._v(" 和 "),s("code",[t._v("U+20E3")]),t._v("， 如：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"\\u0023\\u20E3" > "#⃣"\n\n"\\u002A\\uFE0F\\u20E3" > "*️⃣"\n\n"\\u0030\\u20E3" > "0⃣"\n\n"\\u0039\\u20E3" > "9⃣"\n')])])]),s("p",[t._v("其中 "),s("code",[t._v("uFE0F")]),t._v(" 是可选的，所以在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u0023\\\\u002A[\\\\u0030-\\\\u0039]]\\\\uFE0F?\\\\u20E3"\n')])])]),s("h3",{attrs:{id:"_10-箭头符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Arrows_%28Unicode_block%29",target:"_blank",rel:"noopener noreferrer"}},[t._v("10. 箭头符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("箭头符号中有 8 个 emoji 字符，范围为： "),s("code",[t._v("U+2194 ～ U+2199")]),t._v(" 和 "),s("code",[t._v("U+21A9 ～ U+21AA")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2194-\\\\u2199\\\\u21A9-\\\\u21AA]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_11-杂项符号及箭头"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Miscellaneous_Symbols_and_Arrows",target:"_blank",rel:"noopener noreferrer"}},[t._v("11. 杂项符号及箭头"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("杂项符号及箭头中有 7 个 emoji 字符，分别为： "),s("code",[t._v("U+2B05")]),t._v(" ～ "),s("code",[t._v("U+2B07")]),t._v("、 "),s("code",[t._v("U+2B1B")]),t._v("、 "),s("code",[t._v("U+2B1C")]),t._v("、 "),s("code",[t._v("U+2B50")]),t._v(" 和 "),s("code",[t._v("U+2B55")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2B05-\\\\u2B07\\\\u2B1B\\\\u2B1C\\\\u2B50\\\\u2B55]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_12-补充箭头符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Supplemental_Arrows-B",target:"_blank",rel:"noopener noreferrer"}},[t._v("12. 补充箭头符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("补充箭头符号中有 2 个 emoji 字符，分别为： "),s("code",[t._v("U+2934")]),t._v(" 和 "),s("code",[t._v("U+2935")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2934\\\\u2935]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_13-cjk-符号和标点"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/CJK_Symbols_and_Punctuation",target:"_blank",rel:"noopener noreferrer"}},[t._v("13. CJK 符号和标点"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("CJK (Chinese, Japanese and Korean) 符号和标点中有两个 emoji 字符，分别为： "),s("code",[t._v("U+3030")]),t._v(" 和 "),s("code",[t._v("U+303D")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u3030\\\\u303D]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_14-封闭式-cjk-字母和月份符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Enclosed_CJK_Letters_and_Months",target:"_blank",rel:"noopener noreferrer"}},[t._v("14. 封闭式 CJK 字母和月份符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("封闭式 CJK 字母和月份符号中有两个 emoji 字符，分别为："),s("code",[t._v("U+3297")]),t._v(" 和 "),s("code",[t._v("U+3299")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u3297\\\\u3299]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_15-封闭式表意文字补充符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Enclosed_Ideographic_Supplement",target:"_blank",rel:"noopener noreferrer"}},[t._v("15. 封闭式表意文字补充符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("封闭式表意文字补充符号中有 15 个 emoji 字符， 分别为： "),s("code",[t._v("U+1F201")]),t._v("、 "),s("code",[t._v("U+1F202")]),t._v("、 "),s("code",[t._v("U+1F21A")]),t._v("、 "),s("code",[t._v("U+1F22F")]),t._v("、 "),s("code",[t._v("U+1F232")]),t._v(" ～ "),s("code",[t._v("U+1F23A")]),t._v("、 "),s("code",[t._v("U+1F250")]),t._v("、 "),s("code",[t._v("U+1F251")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\uD83C\\\\uDE01\\\\uD83C\\\\uDE02\\\\uD83C\\\\uDE1A\\\\uD83C\\\\uDE2F\\\\uD83C\\\\uDE32-\\\\uD83C\\\\uDE3A\\\\uD83C\\\\uDE50\\\\uD83C\\\\uDE51]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_16-一般标点"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/General_Punctuation",target:"_blank",rel:"noopener noreferrer"}},[t._v("16. 一般标点"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("一般标点符号中有 2 个 emoji 字符，分别为： "),s("code",[t._v("U+203C")]),t._v(" 和 "),s("code",[t._v("U+2049")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u203C\\\\u2049]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_17-几何图形"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Geometric_Shapes",target:"_blank",rel:"noopener noreferrer"}},[t._v("17. 几何图形"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("几何图形中有 8 个 emoji 字符，分别为： "),s("code",[t._v("U+25AA")]),t._v("、 "),s("code",[t._v("U+25AB")]),t._v("、 "),s("code",[t._v("U+25B6")]),t._v("、 "),s("code",[t._v("U+25C0")]),t._v(" 和 "),s("code",[t._v("U+25FB")]),t._v(" ～ "),s("code",[t._v("U+25FE")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u25AA\\\\u25AB\\\\u25B6\\\\u25C0\\\\u25FB-\\\\u25FE]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_18-拉丁文补充符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Latin-1_Supplement_%28Unicode_block%29",target:"_blank",rel:"noopener noreferrer"}},[t._v("18. 拉丁文补充符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("拉丁文补充符号中有 2 个 emoji 字符，分别为： "),s("code",[t._v("U+00A9")]),t._v(" 和 "),s("code",[t._v("U+00AE")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u00A9\\\\u00AE]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_19-字母符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Letterlike_Symbols",target:"_blank",rel:"noopener noreferrer"}},[t._v("19. 字母符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("字母符号中有 2 个 emoji 字符，分别为： "),s("code",[t._v("U+2122")]),t._v(" 和 "),s("code",[t._v("U+2139")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u2122\\\\u2139]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_20-麻将牌"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Mahjong_Tiles_%28Unicode_block%29",target:"_blank",rel:"noopener noreferrer"}},[t._v("20. 麻将牌"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("麻将牌中只有一个 emoji 字符，为： "),s("code",[t._v("U+1F004")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"\\\\uD83C\\\\uDC04\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_21-扑克牌"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Playing_cards_in_Unicode",target:"_blank",rel:"noopener noreferrer"}},[t._v("21. 扑克牌"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("扑克牌中只有一个 emoji 字符，为： "),s("code",[t._v("U+1F0CF")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"\\\\uD83C\\\\uDCCF\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"_22-杂项技术符号"}},[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Miscellaneous_Technical",target:"_blank",rel:"noopener noreferrer"}},[t._v("22. 杂项技术符号"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("杂项技术符号中有 18 个 emoji 字符，分别为： "),s("code",[t._v("U+231A")]),t._v("、 "),s("code",[t._v("U+231B")]),t._v("、 "),s("code",[t._v("U+2328")]),t._v("、 "),s("code",[t._v("U+23CF")]),t._v("、 "),s("code",[t._v("U+23E9")]),t._v(" ～ "),s("code",[t._v("U+23F3")]),t._v(" 和 "),s("code",[t._v("U+23F8")]),t._v(" ～ "),s("code",[t._v("U+23FA")]),t._v(" 或拼上 "),s("code",[t._v("U+FE0F")]),t._v("，在 Java 中正则表达式为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"[\\\\u231A\\\\u231B\\\\u2328\\\\u23CF\\\\u23E9-\\\\u23F3\\\\u23F8-\\\\u23FA]\\\\uFE0F?"\n')])])]),s("h3",{attrs:{id:"包含所有-emoji-的正则表达式"}},[t._v("包含所有 emoji 的正则表达式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"(?:[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83E\\uDD00-\\uD83E\\uDDFF]|[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|[\\u2600-\\u26FF]\\uFE0F?|[\\u2700-\\u27BF]\\uFE0F?|\\u24C2\\uFE0F?|[\\uD83C\\uDDE6-\\uD83C\\uDDFF]{1,2}|[\\uD83C\\uDD70\\uD83C\\uDD71\\uD83C\\uDD7E\\uD83C\\uDD7F\\uD83C\\uDD8E\\uD83C\\uDD91-\\uD83C\\uDD9A]\\uFE0F?|[\\u0023\\u002A\\u0030-\\u0039]\\uFE0F?\\u20E3|[\\u2194-\\u2199\\u21A9-\\u21AA]\\uFE0F?|[\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55]\\uFE0F?|[\\u2934\\u2935]\\uFE0F?|[\\u3030\\u303D]\\uFE0F?|[\\u3297\\u3299]\\uFE0F?|[\\uD83C\\uDE01\\uD83C\\uDE02\\uD83C\\uDE1A\\uD83C\\uDE2F\\uD83C\\uDE32-\\uD83C\\uDE3A\\uD83C\\uDE50\\uD83C\\uDE51]\\uFE0F?|[\\u203C\\u2049]\\uFE0F?|[\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE]\\uFE0F?|[\\u00A9\\u00AE]\\uFE0F?|[\\u2122\\u2139]\\uFE0F?|\\uD83C\\uDC04\\uFE0F?|\\uD83C\\uDCCF\\uFE0F?|[\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA]\\uFE0F?)"\n')])])]),s("h3",{attrs:{id:"lodash-的解决方案"}},[t._v("lodash 的解决方案")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\u2700"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\u27bf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\ud83c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udde6"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\uddff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\ud800"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udbff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udc00"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udfff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\ufe0e\\ufe0f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\u0300"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\u036f\\ufe20"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\ufe23\\u20d0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\u20f0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\\ud83c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udffb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udfff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u200d")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\\ud800"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udfff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\ud83c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udde6"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\uddff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\ud800"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udbff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udc00"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udfff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\ufe0e\\ufe0f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\u0300"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\u036f\\ufe20"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\ufe23\\u20d0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\u20f0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\\ud83c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\\udffb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\\udfff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n")])])]),s("p",[t._v("关于"),s("code",[t._v("JavaScript")]),t._v("的讲解这里还有一篇比较全面的文章"),s("a",{attrs:{href:"https://medium.com/reactnative/emojis-in-javascript-f693d0eb79fb",target:"_blank",rel:"noopener noreferrer"}},[t._v("传送门"),s("OutboundLink")],1),t._v(";")])])}),[],!1,null,null,null);a.default=n.exports}}]);